.thumb
.syntax unified

.include "gpio_constants.s"     // Register-adresser og konstanter for GPIO
.include "sys-tick_constants.s"
.text
	.global Start
	
Start:


	//LDR R5, =SysTick_CTRL_CLKSOURCE_Msk
	//LDR R6, =SysTick_CTRL_TICKINT_Msk
	//LDR R7, =SysTick_CTRL_ENABLE_Msk
	//ORR R5, R5, R6
	//ORR R5, R5, R7
	//LDR R8, =SYSTICK_BASE
	//STR R5, [R8]

	// LED TEST

	LDR R0, =GPIO_BASE
	LDR R1, =PORT_SIZE
	LDR R2, =LED_PORT
	LDR R3, =LED_PIN
	LDR R4, =GPIO_PORT_DOUT
	MUL R1, R1, R2 //Gives offset to Port E, R1 is address for PORT E, aka PORTS
	ADD R0, R0, R1 //Adds PORTS offset to GPIO_BASE, R0 is address for PORT
	ADD R0, R0, R4 //R0 address is now Port E, DOUT
	MOV R5, #1 //Left-shift target
	LSL R5, R5, R3 //Should now be 0000 0100
	STR R5, [R0] //Now the LED is high





NOP // Behold denne p√• bunnen av fila

